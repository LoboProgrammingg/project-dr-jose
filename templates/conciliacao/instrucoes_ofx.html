{% extends "base.html" %}
{% load static %}

{% block title %}Instruções para Converter PDF para OFX{% endblock %}

{% block page_title %}Como Converter seu Extrato PDF para OFX{% endblock %}
{% block page_subtitle %}Siga este guia para usar o site OFX Fácil e preparar seu arquivo para a conciliação.{% endblock %}

{% block content %}
<div class="mx-auto max-w-5xl space-y-12 animate-fadeIn">

    <div class="bg-white dark:bg-gray-800 p-6 sm:p-10 rounded-2xl shadow-soft-xl ring-1 ring-gray-900/5 dark:ring-white/10 transition-colors duration-300">
        
        <!-- Introdução -->
        <div class="prose prose-lg dark:prose-invert max-w-none text-center">
            <div class="inline-flex items-center justify-center bg-brand-100 dark:bg-brand-900/50 text-brand-600 dark:text-brand-300 rounded-full p-3 mb-4">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" />
                </svg>
            </div>
            <p class="lead">
                Para realizar a conciliação bancária em nosso sistema, seu extrato precisa estar no formato <strong>OFX</strong>. Como os bancos geralmente o fornecem em PDF, você precisará convertê-lo primeiro.
            </p>
            <p>
                Recomendamos o site <a href="https://www.ofxfacil.com.br/" target="_blank" class="text-brand-500 dark:text-brand-400 font-semibold hover:underline">OFX Fácil</a>, uma ferramenta gratuita e eficiente. Siga os passos abaixo.
            </p>
        </div>

        <hr class="my-10 border-gray-200 dark:border-gray-700">

        <!-- Passo a Passo -->
        <div class="relative">
            <!-- Linha do tempo vertical -->
            <div class="absolute left-8 top-8 bottom-0 w-0.5 bg-gray-200 dark:bg-gray-700" aria-hidden="true"></div>

            <div class="space-y-12">
                <!-- Passo 1 -->
                <div class="relative flex items-start gap-x-6">
                    <div class="flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-brand-500 to-brand-700 text-white font-bold text-2xl ring-8 ring-gray-50 dark:ring-gray-900 flex-shrink-0">1</div>
                    <div class="flex-grow pt-1.5">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Acesse o OFX Fácil</h3>
                        <p class="text-gray-600 dark:text-gray-400 mb-4">
                            Clique no link para abrir o site em uma nova aba: 
                            <a href="https://www.ofxfacil.com.br/" target="_blank" class="text-brand-500 dark:text-brand-400 font-semibold hover:underline">https://www.ofxfacil.com.br/</a>
                        </p>
                        <div class="p-2 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden">
                            <img src="{% static 'img/site_ofx.png' %}" alt="Página inicial do site OFX Fácil" class="rounded-md shadow-md w-full transition-transform duration-300 hover:scale-105">
                        </div>
                    </div>
                </div>

                <!-- Passo 2 -->
                <div class="relative flex items-start gap-x-6">
                    <div class="flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-brand-500 to-brand-700 text-white font-bold text-2xl ring-8 ring-gray-50 dark:ring-gray-900 flex-shrink-0">2</div>
                    <div class="flex-grow pt-1.5">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Selecione o Banco Correto</h3>
                        <p class="text-gray-600 dark:text-gray-400 mb-4">
                            Na lista de bancos, é crucial selecionar o do seu extrato (<strong>Sicoob</strong> ou <strong>Banco do Brasil</strong>). Escolher o banco correto garante a conversão perfeita.
                        </p>
                        <div class="p-2 border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden">
                            <img src="{% static 'img/escolha_banco.png' %}" alt="Seleção de bancos no OFX Fácil" class="rounded-md shadow-md w-full transition-transform duration-300 hover:scale-105">
                        </div>
                    </div>
                </div>

                <!-- Passo 3 -->
                <div class="relative flex items-start gap-x-6">
                    <div class="flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-brand-500 to-brand-700 text-white font-bold text-2xl ring-8 ring-gray-50 dark:ring-gray-900 flex-shrink-0">3</div>
                    <div class="flex-grow pt-1.5">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Faça o Upload do seu Extrato PDF</h3>
                        <p class="text-gray-600 dark:text-gray-400">
                            Após selecionar o banco, clique no botão para escolher o arquivo e selecione o extrato em PDF que você baixou do site do seu banco.
                        </p>
                    </div>
                </div>

                <!-- Passo 4 -->
                <div class="relative flex items-start gap-x-6">
                    <div class="flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-brand-500 to-brand-700 text-white font-bold text-2xl ring-8 ring-gray-50 dark:ring-gray-900 flex-shrink-0">4</div>
                    <div class="flex-grow pt-1.5">
                        <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Converta e Baixe o Arquivo .ofx</h3>
                        <p class="text-gray-600 dark:text-gray-400">
                            O site irá processar seu PDF e gerar um arquivo <strong>.ofx</strong>. Clique no botão de download para salvá-lo.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dica Importante -->
        <div class="mt-12 bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4 rounded-r-lg">
            <div class="flex">
                <div class="flex-shrink-0">
                    <svg class="h-5 w-5 text-yellow-500 dark:text-yellow-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                        <path fill-rule="evenodd" d="M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
                    </svg>
                </div>
                <div class="ml-3">
                    <p class="text-sm text-yellow-800 dark:text-yellow-200">
                        <strong>Dica:</strong> Após o download, abra o arquivo .ofx em um editor de texto simples (como o Bloco de Notas) para verificar rapidamente se as datas e valores parecem corretos.
                    </p>
                </div>
            </div>
        </div>

        <!-- Conclusão e CTA -->
        <div class="mt-12 text-center">
            <h3 class="text-2xl font-bold text-gray-900 dark:text-white">Tudo Pronto!</h3>
            <p class="mt-2 text-lg text-gray-600 dark:text-gray-400">
                Agora você pode usar o arquivo convertido em nosso sistema.
            </p>
            <div class="mt-6">
                <a href="{% url 'conciliacao:pagina_upload' %}" class="inline-flex items-center gap-x-2 rounded-xl bg-green-600 px-6 py-3 text-base font-semibold text-white shadow-lg hover:bg-green-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600 transition-all duration-300 transform hover:-translate-y-0.5">
                    <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M15.59 4.73a.75.75 0 011.06 1.06l-6.25 6.25a.75.75 0 01-1.06 0l-3-3a.75.75 0 111.06-1.06l2.47 2.47 5.72-5.72z" clip-rule="evenodd" />
                    </svg>
                    Ir para a Página de Upload
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
